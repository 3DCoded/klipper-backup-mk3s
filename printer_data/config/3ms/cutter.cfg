[servo 3mc]
pin: 3ms: PA1

[gcode_macro CUTTER_SETTINGS]
variable_cut_angle: 0
variable_release_angle: 75
gcode:
  RESPOND MSG=""

[gcode_macro CUT_FILAMENT]
gcode:
  SET_SERVO SERVO=3mc ANGLE={printer["gcode_macro CUTTER_SETTINGS"].cut_angle}

[gcode_macro RELEASE_FILAMENT]
gcode:
  SET_SERVO SERVO=3mc ANGLE={printer["gcode_macro CUTTER_SETTINGS"].release_angle}

[gcode_macro CUT_ROUTINE]
gcode:
  CUT_FILAMENT
  G4 P500
  RELEASE_FILAMENT
